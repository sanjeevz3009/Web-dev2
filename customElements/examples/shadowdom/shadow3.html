<!doctype html>
<title>Shadow DOM Example 3</title>
<style>
  section   { padding: 0.25rem 1rem; background: #AACCFF; }
  section p { padding: 0.25rem 1rem; background: #FFDDBB; }
</style>

<h1>Shadow DOM Example 3</h1>
<button id="b1">GO!</button>
<main>

  <section id="example">
    <p>This text will be replaced.</p>
    <p>This will also change.</p>
  </section>

  <section>
    <p>This text will remain.</p>
    <p>No change here.</p>
  </section>

</main>

<template id="t1">
    <p>I am part of a template.</p>
    <p>When I am visible in the page I am also part of a shadow DOM.</p>
</template>

<script>

  const b1 = document.querySelector("#b1");
  const ex = document.querySelector("#example");
  const opts = { mode: "closed" };

  b1.addEventListener("click", () => {
    const shadow = ex.attachShadow(opts);
    const cloned = t1.content.cloneNode(true);
    shadow.append(cloned);

});
</script>
